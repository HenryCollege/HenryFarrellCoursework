<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Delete Patient</title>

    <script>
        "use strict";

        function postDeletePatient() {
            console.log("Invoked postDeletePatient()");

            const formData = new FormData(document.getElementById('deletePatientForm'));
            var url = "/patient/delete/";

            fetch(url , {
                method: "POST",
                body: formData,
            }).then(response => {
                return response.json()
            }).then(response => {
                if (response.hasOwnProperty("Error")) {   //checks if response from server has a key "Error"
                    alert(JSON.stringify(response));        // if it does, convert JSON object to string and alert
                } else {
                    window.open("/client/index.html", "_self");   //if not open this page (for example!)
                }
            });

        }

    </script>

</head>
<body>

<form id="deletePatientForm">
    <div class="deletePatientDiv">
        <label for="deletePatientID">PatientID: </label>
        <input type="text" name="patientID" id="deletePatientID">
    </div>
</form>

<button onclick="postDeletePatient()">Delete From database </button>

<div class="backToIndex">
    <button class = "backToIndexButton" onclick=" window.location.href='index.html';"> Back to Index</button>

</div>

</body>
</html>