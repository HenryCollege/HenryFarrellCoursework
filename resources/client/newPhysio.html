<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sign Up as a Physio</title>
    <link href="css/styles.css" rel="stylesheet">


    <script>
        "use strict";

        function postUserAdd() {
            console.log("Invoked postUserAdd()");

            const formData = new FormData(document.getElementById('signUpForm'));
            var url = "/user/add";

            fetch(url, {
                method: "POST",
                body: formData,
            }).then(response => {
                return response.json()
            }).then(response => {
                if (response.hasOwnProperty("Error")) {   //checks if response from server has a key "Error"
                    alert(JSON.stringify(response));        // if it does, convert JSON object to string and alert
                } else {
                    window.open("/client/login.html", "_self");   //if not open this page (for example!)
                }
            });

        }

    </script>
</head>
<body>

<form id="signUpForm">
    <div class="signUpDiv">
        <label for="username">Username: </label>
        <input type="text" name="username" id="username">
    </div>
    <div class="signUpDiv">
        <label for="password">Password: </label>
        <input type="password" name="password" id="password">
    </div>

    <div class="signUpDiv">
        <label for="firstName">firstName: </label>
        <input type="firstName" name="firstName" id="firstName">
    </div>

    <div class="signUpDiv">
        <label for="lastName">lastName: </label>
        <input type="lastName" name="lastName" id="lastName">
    </div>

</form>

<button onclick="postUserAdd()">Push to database </button>

<div class="backToLogin">
    <button class = "backToLoginButton" onclick=" window.location.href='login.html';"> Back to Login</button>
</div>




</body>
</html>